<!DOCTYPE html>
<html>
<head>
	<title>natural selection</title>
	<canvas id="canvas" style="border:1px solid #000000;"></canvas>
	<script src="../geometry.js"></script>
	<script src="../Vectors.js"></script>
</head>
<body>


<!-- Builds the map -->
<script src="canvas.js"></script>


<!-- Draws the creatures -->
<script src="creatures.js"></script>
<script src="food.js"></script>

<script>


creatures = [new Creature(new Vector(50, 50), new Vector(2,2), 2), new Creature(new Vector(100, 100), new Vector(-1.5,-2.5), 2)];
f1 = new Food(new Vector(150, 150));
f2 = new Food(new Vector(400, 350))
f3 = new Food(new Vector(200, 180))

foodArray = [f1, new Food((new Vector(300,100))), f2,];

for (let i = 0; i < 50; i ++) {
	foodArray.push(new Food(new Vector(Math.random()*(canvas.width-50), Math.random()*(canvas.height-50))))
}

function run() {
	wipeScreen();
	creatures.forEach(creature => {
		creature.draw();
		creature.drawSense();
		creature.detectFood(foodArray);
		creature.move();
	})

	foodArray.forEach(food => {
		food.draw()
	})
	requestAnimationFrame(run);
}

run();
</script>